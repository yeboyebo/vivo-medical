!function(t){"use strict";var a=Modernizr.cssanimations,i={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"}[Modernizr.prefixed("animation")],r=function(e,n){var t=function(e){if(a){if(e.target!=this)return;this.removeEventListener(i,t)}n&&"function"==typeof n&&n.call()};a?e.addEventListener(i,t):t()};function s(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}function e(e,n){this.el=e,this.options=s({},this.options),s(this.options,n),this.menus=jQuery(this.el).find(".menu-container").toArray(),this.current=0,this._init()}e.prototype.options={initialDelay:200,itemsDelayInterval:60,direction:"r2l"},e.prototype._init=function(){this.menusArr=[];var s=this,o=jQuery(".be-sidemenu").attr("data-menu-alignment");if(jQuery("body").hasClass("overlay-left-align-menu")&&0<jQuery(".special-header-bottom-text").length){var e=jQuery(".special-header-bottom-text");e[0].clientHeight==e[0].scrollHeight&&jQuery(e).css("align-self",o)}this.menus.forEach(function(e,n){var t={menuEl:e,menuItems:[].slice.call(e.querySelectorAll(".menu-item"))},a=e.clientHeight,i=e.scrollHeight;s.menusArr.push(t),n===s.current&&classie.add(e,"menu__level--current"),a==i&&jQuery(e).css("justify-content",o)}),this._initEvents()},e.prototype._initEvents=function(){for(var a=this,e=0,n=this.menusArr.length;e<n;++e)this.menusArr[e].menuItems.forEach(function(e,n){0!=jQuery(e).find("span.mobile-sub-menu-controller").length&&e.querySelector(".mobile-sub-menu-controller").addEventListener("click",function(e){var n=jQuery(e.target).closest(".menu-item").children("ul"),t=n.find("li").toArray().filter(function(e){return e.parentElement==n[0]||("none"!=jQuery(e).parent().css("display")||void 0)});"none"==n.css("display")?a.animateSubMenu(t,"openMenu"):a.animateSubMenu(t,"closeMenu")})});jQuery(document).on("click",".hamburger-nav-controller-wrap",function(e){jQuery("body").hasClass("perspective-left")||jQuery("body").hasClass("perspective-right")?jQuery("body").hasClass("perspectiveview-open")?jQuery("body").hasClass("perspectiveview-open")&&a.animateMenu("closeMenu"):a.animateMenu("openMenu"):jQuery("body").hasClass("side-menu-opened")?a.animateMenu("openMenu"):a.animateMenu("closeMenu")}),jQuery(document).on("click","#be-left-strip",function(e){jQuery("body").hasClass("perspective-right")?jQuery("body").hasClass("perspectiveview-open")?jQuery("body").hasClass("perspectiveview-open")&&a.animateMenu("closeMenu"):a.animateMenu("openMenu"):jQuery("body").hasClass("side-menu-opened")?a.animateMenu("openMenu"):a.animateMenu("closeMenu")}),jQuery(document).on("click","#main",function(){(jQuery("body").hasClass("side-menu-opened")||jQuery("body").hasClass("perspectiveview"))&&a.animateMenu("closeMenu")}),jQuery(document).on("click",".be-overlay-menu-close",function(){jQuery("body").hasClass("side-menu-opened")?a.animateMenu("openMenu"):a.animateMenu("closeMenu")}),jQuery(t).on("resize",function(){var t=jQuery(".be-sidemenu").attr("data-menu-alignment"),e=jQuery(".special-header-bottom-text");setTimeout(function(){jQuery("body").hasClass("overlay-left-align-menu")&&0<e.length&&(jQuery(e).css("align-self","auto"),e[0].clientHeight==e[0].scrollHeight?jQuery(e).css("align-self",t):jQuery(e).css("align-self","auto"));a.menus.forEach(function(e,n){e.clientHeight==e.scrollHeight?jQuery(e).css("justify-content",t):jQuery(e).css("justify-content","flex-start")})},500)}),document.addEventListener("keyup",function(e){(jQuery("body").hasClass("side-menu-opened")||jQuery("body").hasClass("perspectiveview"))&&(27===(e.keyCode||e.which)&&a.animateMenu("closeMenu"))})},e.prototype.animateSubMenu=function(e,t){var a=this,i=e[0].parentElement,s=e.length-1;e.forEach(function(e,n){if(e.style.WebkitAnimationDelay=e.style.animationDelay=parseInt(n*a.options.itemsDelayInterval)+"ms",n==s&&(r(e,function(){if("closeMenu"==t)switch(a.options.direction){case"r2l":classie.remove(i,"animate-outToRight");break;case"l2r":classie.remove(i,"animate-outToLeft");break;case"t2b":classie.remove(i,"animate-outToTop");break;case"b2t":classie.remove(i,"animate-outToBottom")}else if("openMenu"==t)switch(a.options.direction){case"r2l":classie.remove(i,"animate-inFromRight");break;case"l2r":classie.remove(i,"animate-inFromLeft");break;case"t2b":classie.remove(i,"animate-inFromTop");break;case"b2t":classie.remove(i,"animate-inFromBottom")}}),setTimeout(function(){a.menus.forEach(function(e,n){e.clientHeight==e.scrollHeight?jQuery(e).css("justify-content",jQuery(".be-sidemenu").attr("data-menu-alignment")):jQuery(e).css("justify-content","flex-start")})},450)),"closeMenu"==t)switch(a.options.direction){case"r2l":classie.add(i,"animate-outToRight");break;case"l2r":classie.add(i,"animate-outToLeft");break;case"t2b":classie.add(i,"animate-outToTop");break;case"b2t":classie.add(i,"animate-outToBottom")}else if("openMenu"==t)switch(a.options.direction){case"r2l":classie.add(i,"animate-inFromRight");break;case"l2r":classie.add(i,"animate-inFromLeft");break;case"t2b":classie.add(i,"animate-inFromTop");break;case"b2t":classie.add(i,"animate-inFromBottom")}})},e.prototype.animateMenu=function(t){var a=this,e=void 0!==a.menusArr[a.current]?jQuery(a.menusArr[a.current].menuItems).filter(":visible").toArray():[],i=e.length-1,n=jQuery(".special-header-bottom-text"),s=jQuery(".special-header-logo");e.forEach(function(e,n){if(e.style.WebkitAnimationDelay=e.style.animationDelay=parseInt(n*a.options.itemsDelayInterval+a.options.initialDelay)+"ms",n==i&&r(e,function(){if("closeMenu"==t)classie.remove(a.menusArr[a.current].menuEl,"animate-closemenu");else if("openMenu"==t)switch(a.options.direction){case"r2l":classie.remove(a.menusArr[a.current].menuEl,"animate-inFromRight");break;case"l2r":classie.remove(a.menusArr[a.current].menuEl,"animate-inFromLeft");break;case"t2b":classie.remove(a.menusArr[a.current].menuEl,"animate-inFromTop");break;case"b2t":classie.remove(a.menusArr[a.current].menuEl,"animate-inFromBottom")}}),"closeMenu"==t)e.style.WebkitAnimationDelay=e.style.animationDelay=parseInt(0)+"ms",classie.add(a.menusArr[a.current].menuEl,"animate-closemenu");else if("openMenu"==t)switch(a.options.direction){case"r2l":classie.add(a.menusArr[a.current].menuEl,"animate-inFromRight");break;case"l2r":classie.add(a.menusArr[a.current].menuEl,"animate-inFromLeft");break;case"t2b":classie.add(a.menusArr[a.current].menuEl,"animate-inFromTop");break;case"b2t":classie.add(a.menusArr[a.current].menuEl,"animate-inFromBottom")}});var o=function(e){if("closeMenu"==t)e.removeClass("animate-closemenu");else if("openMenu"==t)switch(a.options.direction){case"r2l":e.removeClass("animate-inFromRight");break;case"l2r":e.removeClass("animate-inFromLeft");break;case"t2b":e.removeClass("animate-inFromTop");break;case"b2t":e.removeClass("animate-inFromBottom")}};if(0!=n.length&&r(n[0],o.bind(null,n)),0!=s.length&&r(s[0],o.bind(null,s)),"closeMenu"==t)n.css("animation-delay",parseInt(0)+"ms"),s.css("animation-delay",parseInt(0)+"ms"),n.addClass("animate-closemenu"),s.addClass("animate-closemenu");else if("openMenu"==t)switch(n.css("animation-delay",parseInt(a.options.initialDelay)+"ms"),s.css("animation-delay",parseInt(a.options.initialDelay)+"ms"),a.options.direction){case"r2l":n.addClass("animate-inFromRight"),s.addClass("animate-inFromRight");break;case"l2r":n.addClass("animate-inFromLeft"),s.addClass("animate-inFromLeft");break;case"t2b":n.addClass("animate-inFromTop"),s.addClass("animate-inFromTop");break;case"b2t":n.addClass("animate-inFromBottom"),s.addClass("animate-inFromBottom")}},t.OldMenu=e}(window);