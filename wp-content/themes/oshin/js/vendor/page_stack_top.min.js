!function(i){"use strict";var r=Modernizr.csstransitions,a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[Modernizr.prefixed("transition")],o=function(e,t){var n=function(e){if(r){if(e.target!=this)return;this.removeEventListener(a,n)}t&&"function"==typeof t&&t.call(this)};r?e.addEventListener(a,n):n()},d=document.getElementsByClassName("be-page-stack-wrapper")[0],u=(document.getElementById("header-inner-wrap"),3),l=0,c=i.innerHeight,e=document.querySelector(".hamburger-nav-controller-wrap"),t=document.querySelector(".special-header-menu"),n=jQuery(t).find(".menu-item a").toArray(),y=!1,p=0,m=(jQuery("body").hasClass("header-solid")&&(jQuery("#header-wrap").attr("data-default-height"),jQuery("#header-wrap").attr("data-sticky-height")),jQuery(".be-page-stack")),h=jQuery(".be-page-stack-container"),f=jQuery(".be-page-stack-wrapper");function b(){for(var e=Q(),t=0;t<u;++t){var n=m[t],r=e.indexOf(t),a=h[t];l!==t?(classie.add(n,"page--inactive"),a.style.transform=-1!==r?a.style.WebkitTransform="translate3d(0,100%,0)":a.style.WebkitTransform="translate3d(0,75%,-300px)"):classie.remove(n,"page--inactive"),a.style.zIndex=t<l?parseInt(15):parseInt(15-t),n.style.opacity=-1!==r?parseFloat(1-.1*r):0}}function s(e){y?v():(p=jQuery(document).scrollTop(),m[0].style.top=-1*p+"px",function(){jQuery(".hamburger-nav-controller .be-mobile-menu-icon").addClass("is-clicked"),jQuery(".be-sidemenu").addClass("opened"),jQuery("body").addClass("side-menu-opened page-stack-top-opened"),jQuery("body").hasClass("admin-bar")&&jQuery("html").css("height","calc(100% - 32px)"),jQuery(".be-sidemenu").css({width:"100vw",height:"50%",visibility:"visible"});var t=function(e){e.stopPropagation(),!jQuery("body").hasClass("side-menu-opened")&&jQuery(e.target).hasClass("be-sidemenu")&&(jQuery(this).unbind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",t),jQuery(".be-sidemenu").css({width:"1px",height:"1px",visibility:"hidden"}))};jQuery(".be-sidemenu").bind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",t),jQuery(d).addClass("pages-stack--open");var a=Q(),s=jQuery("body").hasClass("header-solid")?Number(jQuery("#header-wrap").attr("data-default-height")):0;setTimeout(function(){var e=.75*c-s+"px";f.css("perspective","1200px");for(var t=0,n=a.length;t<n;++t){var r=h[a[t]];r.style.transform="translate3d(0,0,0)",r.style.WebkitTransform="translate3d(0,"+e+", "+parseInt(-200-50*t)+"px)",r.style.transform="translate3d(0,"+e+", "+parseInt(-200-50*t)+"px)"}},0)}(),y=!0)}function v(){j()}function j(t){var e=h[l],n=Q(l);e.style.WebkitTransform="translate3d(0, 0, 0)",e.style.transform="",e.style.opacity=1;for(var r=0,a=n.length;r<a;++r){var s=h[n[r]];s.style.WebkitTransform="translate3d(0,100%,0)",s.style.transform="translate3d(0,100%,0)"}jQuery(".hamburger-nav-controller .be-mobile-menu-icon").removeClass("is-clicked"),jQuery(".be-sidemenu").removeClass("opened"),jQuery("body").removeClass("side-menu-opened"),jQuery("body").hasClass("admin-bar")&&jQuery("html").css("height",""),o(e,function(){jQuery(d).removeClass("pages-stack--open"),jQuery("body").removeClass("page-stack-top-opened"),f.css("perspective","");for(var e=0;e<u;e++)m[e].style.top="0px";jQuery("body,html").scrollTop(p),t&&i.oshine_scripts.animate_scroll(jQuery("#"+t)),b(),y=!1})}function Q(e){var t=l+1,n=l+2,r=[];return e!=l&&r.push(l),e!=t&&r.push(t),e!=n&&r.push(n),r}b(),function(){e.addEventListener("click",s);var a=i.location.href;n.forEach(function(e){var t,n=e.getAttribute("href"),r=n.split("#");if("#"==n)return!1;0<=n.indexOf("#")&&0<=a.indexOf(r[0])&&(t=n.substring(n.indexOf("#")+1))&&0<jQuery("#"+t).length&&e.addEventListener("click",function(e){e.preventDefault(),j(t)})}),Array.prototype.forEach.call(m,function(e){e.addEventListener("click",function(e){y&&(e.preventDefault(),v())})}),document.addEventListener("keyup",function(e){if(y){var t=e.keyCode||e.which;27===t&&v()}}),jQuery(i).on("resize",function(){jQuery(i).width()<=960&&y&&v()})}()}(window);