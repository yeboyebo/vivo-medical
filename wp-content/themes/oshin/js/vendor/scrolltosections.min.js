!function(e){var i,o,l=e(window);e.fn.SectionScroll=function(){if(jQuery("body").hasClass("section-scroll")){e(this);var r,n=0,t=!1,a=jQuery("#page-content").find(".tatsu-section").length;function s(){setTimeout(function(){jQuery(window).trigger("resize"),void 0!==window.tatsu&&window.tatsu.cssAnimate()},800)}0==jQuery(".header-hero-section").length&&a--,i=function(){var e=2;jQuery("body").hasClass("be-themes-layout-layout-border-header-top")&&(e=1);var r=(l.height()-(jQuery("#wpadminbar").height()+jQuery("#header").height()+jQuery(".layout-box-bottom").height()*e))*n;jQuery("#content").css({"-webkit-transform":"translatey(-"+r+"px)","-moz-transform":"translatey(-"+r+"px)","-o-transform":"translatey(-"+r+"px)","-ms-transform":"translatey(-"+r+"px)",transform:"translatey(-"+r+"px)"}),jQuery("li.fullscreen-nav-item, div.fullscreen-nav-item-hero-section").removeClass("current-item"),jQuery("body").hasClass("header-transparent")&&jQuery("#header-inner-wrap").removeClass("background--dark").removeClass("background--light"),0==jQuery(".header-hero-section").length?(jQuery("li.fullscreen-nav-item:nth-child("+(n+1)+")").addClass("current-item"),jQuery("body").hasClass("header-transparent")&&jQuery("#header-inner-wrap").addClass(function(){return jQuery("#page-content div").children(".tatsu-section:nth-child("+(n+1)+")").attr("data-headerscheme")})):0==n?(jQuery("div.fullscreen-nav-item-hero-section").addClass("current-item"),jQuery("body").hasClass("header-transparent")&&jQuery("#header-inner-wrap").addClass(function(){return jQuery("#header-inner-wrap").attr("data-headerscheme")})):(jQuery("li.fullscreen-nav-item:nth-child("+n+")").addClass("current-item"),jQuery("body").hasClass("header-transparent")&&jQuery("#header-inner-wrap").addClass(function(){return jQuery("#page-content div").children(".tatsu-section:nth-child("+n+")").attr("data-headerscheme")}))},o=function(){jQuery(".tatsu-section.tatsu-fullscreen").find(".tatsu-vimeo-video").each(function(){var e=jQuery(this).attr("id");if(e){var r=document.getElementById(e);$f(r).api("pause")}})},jQuery.fn.translate=function(e){jQuery("html, body").scrollTop(0);var r=jQuery("div.tatsu-section").index(e);if(n=r,0<jQuery(".header-hero-section").length&&(n=r+1),-1==r)return jQuery(".fullscreen-nav-item-hero-section").trigger("click"),!1;o(),i(),s()},l.on("scroll.sectionscroll",i),l.on("resize.sectionresize",i),i(),s(),jQuery(document).on("mousewheel","body.section-scroll",function(e){960<jQuery(window).width()&&jQuery("html").hasClass("csstransforms")&&(e.preventDefault(),t||(t=!0,0<e.deltaY||e.originalEvent.detail<0?0<n&&n--:n<a&&n++,o(),i(),s(),tatsu.cssAnimate(),clearTimeout(r),r=setTimeout(function(){t=!1},1e3)))}),jQuery(document).on("click",".fullscreen-nav-item",function(){var e=jQuery("li.fullscreen-nav-item").index(this);n=0<jQuery(".header-hero-section").length?e+1:e,o(),i(),s()}),jQuery(document).on("click",".fullscreen-nav-item-hero-section",function(){n=0,o(),i(),s()}),jQuery("html").addClass("section-scroll"),0<jQuery("body").find(".fullscreen-nav-wrap").length&&jQuery("body").find(".fullscreen-nav-wrap").remove(),jQuery("body").append('<div class="fullscreen-nav-wrap clearfix"><div class="fullscreen-nav-wrap-inner clearfix"><ul class="fullscreen-nav"></ul></div></div>'),0<jQuery(".header-hero-section").length&&jQuery(".fullscreen-nav-wrap-inner").prepend('<div class="fullscreen-nav-item-hero-section"></div>'),jQuery(".fullscreen-nav").empty(),jQuery("#page-content div").children(".tatsu-section").each(function(){jQuery(".fullscreen-nav").append('<li class="fullscreen-nav-item"></li>')}),jQuery("#content").css("opacity",1)}else jQuery("body").hasClass("header-transparent")&&0==jQuery("#hero-section").length&&(jQuery("#header-inner-wrap").removeClass("background--dark").removeClass("background--light"),jQuery("#header-inner-wrap").addClass(function(){return jQuery("#page-content div").children(".tatsu-section:nth-child(1)").attr("data-headerscheme")})),l.off("scroll.sectionscroll",i),l.off("resize.sectionresize",i),jQuery("#content").removeAttr("style")},jQuery(document).on("update_content",function(){jQuery("body").hasClass("no-section-scroll")&&(l.off("scroll.sectionscroll",i),l.off("resize.sectionresize",i),jQuery("#content").removeAttr("style"))})}(jQuery);